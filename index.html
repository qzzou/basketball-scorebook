<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Basketball Scorebook 2.0</title>
    <link rel="stylesheet" href="styles-2.css">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-titles">
            <div id="team-name" class="team-name-header">Team Name - 0 pts</div>
            <h1 id="game-name">Basketball Scorebook</h1>
        </div>
    </header>

    <div class="app-container">
        <!-- Shot Map Section -->
        <section class="shot-map-section">
            <div class="section-header">
                <h2>Shot Map</h2>
                <div class="control-buttons">
                    <button id="undo-btn" class="text-btn" title="Undo">
                        Undo
                    </button>
                    <button id="redo-btn" class="text-btn" title="Redo">
                        Redo
                    </button>
                </div>
            </div>

            <!-- Jersey Row -->
            <div id="jersey-row" class="jersey-row"></div>

            <!-- Stat Row (Fouls + Stats + Actions) -->
            <div id="stat-row" class="stat-row">
                <p>Select a player to begin</p>
            </div>

            <!-- Guide Text (above court, hidden by default) -->
            <div id="guide-text" class="guide-text" style="display: none;"></div>

            <!-- Court Canvas -->
            <div class="court-container">
                <canvas id="shots-map-canvas"></canvas>
                <!-- Tap Text Overlay (on court, hidden by default) -->
                <div id="tap-text" class="tap-text" style="display: none;">tap to draw shot</div>
                <!-- Retap Text Overlay (on court, hidden by default) -->
                <div id="retap-text" class="retap-text" style="display: none;">retap to move, press done to confirm</div>
            </div>

            <!-- Draw Row (below court, hidden by default) -->
            <div id="draw-row" class="draw-row" style="display: none;">
                <div class="draw-buttons">
                    <button id="cancel-btn" class="btn-secondary">Cancel</button>
                    <button id="done-btn" class="btn-primary disabled">Done</button>
                </div>
            </div>

            <!-- Stat Buttons (below court) -->
            <div id="shot-buttons-section" class="stat-buttons-section"></div>
        </section>

        <!-- Action Log Section -->
        <section class="action-log-section">
            <h2>Action Log</h2>
            <p class="help-text">Click on action to make change if needed</p>
            <div id="action-log" class="action-log"></div>
        </section>

        <!-- Summary Section -->
        <section class="summary-section">
            <h2>Team Summary</h2>
            <div id="summary-table" class="summary-table"></div>
        </section>

    </div>

    <!-- Bottom Tab Bar -->
    <nav class="tab-bar">
        <button class="tab-btn" data-tab="my">
            <i data-lucide="user"></i>
            <span>My</span>
        </button>
        <button class="tab-btn" data-tab="game">
            <i data-lucide="target"></i>
            <span>Game</span>
        </button>
        <button class="tab-btn" data-tab="history">
            <i data-lucide="history"></i>
            <span>History</span>
        </button>
        <button class="tab-btn" data-tab="settings">
            <i data-lucide="settings"></i>
            <span>Settings</span>
        </button>
    </nav>

    <!-- Load Scripts in Order -->
    <!-- Utilities -->
    <script src="js/utils/idGenerator.js"></script>
    <script src="js/utils/formatters.js"></script>
    <script src="js/utils/animations.js"></script>

    <!-- Core -->
    <script src="js/core/eventBus.js"></script>
    <script src="js/core/dataModel.js"></script>
    <script src="js/core/storage.js"></script>

    <!-- Managers -->
    <script src="js/managers/statCalculator.js"></script>
    <script src="js/managers/eventManager.js"></script>
    <script src="js/managers/gameManager.js"></script>

    <!-- Canvas -->
    <script src="js/canvas/courtRenderer.js"></script>
    <script src="js/canvas/shotRenderer.js"></script>
    <script src="js/canvas/canvasInteraction.js"></script>

    <!-- UI -->
    <script src="js/ui/settingsUI.js"></script>
    <script src="js/ui/gameHistoryUI.js"></script>
    <script src="js/ui/actionCorrectionUI.js"></script>
    <script src="js/ui/hotButtonsUI.js"></script>
    <script src="js/ui/helpUI.js"></script>
    <script src="js/ui/ui.js"></script>

    <!-- App -->
    <script src="js/app.js"></script>

    <!-- Initialize Lucide Icons -->
    <script>
        lucide.createIcons();
    </script>

    <!-- PDF Export Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- PDF Export Module -->
    <script src="js/utils/pdfExport.js"></script>
</body>
</html>
