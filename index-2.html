<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Basketball Scorebook 2.0</title>
    <link rel="stylesheet" href="styles-2.css">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <h1 id="game-name">Basketball Scorebook</h1>
        <div class="header-buttons">
            <button id="settings-btn" class="icon-btn" title="Settings">
                <i data-lucide="settings"></i>
            </button>
            <button id="help-btn" class="icon-btn" title="Help">
                <i data-lucide="info"></i>
            </button>
        </div>
    </header>

    <div class="app-container">
        <!-- Shot Map Section -->
        <section class="shot-map-section">
            <h2>Shot Map</h2>

            <!-- Jersey Row with Controls -->
            <div class="jersey-controls">
                <div id="jersey-row" class="jersey-row"></div>
                <div class="control-buttons">
                    <button id="undo-btn" class="icon-btn" title="Undo">
                        <i data-lucide="undo"></i>
                    </button>
                    <button id="redo-btn" class="icon-btn" title="Redo">
                        <i data-lucide="redo"></i>
                    </button>
                    <button id="select-btn" class="icon-btn" title="Select All / Clear All" style="display: none;">
                        <i data-lucide="users"></i>
                    </button>
                    <button id="edit-btn" class="icon-btn active" title="Edit Mode">
                        <i data-lucide="square-pen"></i>
                    </button>
                    <button id="view-btn" class="icon-btn" title="View Mode">
                        <i data-lucide="eye"></i>
                    </button>
                </div>
            </div>

            <!-- Stat Row (Fouls + Stats + Actions) -->
            <div id="stat-row" class="stat-row">
                <p>Select a player to begin</p>
            </div>

            <!-- Court Canvas -->
            <div class="court-container">
                <canvas id="shots-map-canvas"></canvas>
            </div>
        </section>

        <!-- Action Log Section -->
        <section class="action-log-section">
            <h2>Action Log</h2>
            <div id="action-log" class="action-log"></div>
        </section>

        <!-- Summary Section -->
        <section class="summary-section">
            <h2>Team Summary</h2>
            <div id="summary-table" class="summary-table"></div>
        </section>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <button id="new-game-btn" class="btn-primary">New Game</button>
        </div>
    </div>

    <!-- Load Scripts in Order -->
    <!-- Utilities -->
    <script src="js/utils/idGenerator.js"></script>
    <script src="js/utils/formatters.js"></script>
    <script src="js/utils/animations.js"></script>

    <!-- Core -->
    <script src="js/core/eventBus.js"></script>
    <script src="js/core/dataModel.js"></script>
    <script src="js/core/storage.js"></script>

    <!-- Managers -->
    <script src="js/managers/statCalculator.js"></script>
    <script src="js/managers/eventManager.js"></script>
    <script src="js/managers/gameManager.js"></script>

    <!-- Canvas -->
    <script src="js/canvas/courtRenderer.js"></script>
    <script src="js/canvas/shotRenderer.js"></script>
    <script src="js/canvas/canvasInteraction.js"></script>

    <!-- UI -->
    <script src="js/ui/settingsUI.js"></script>
    <script src="js/ui/gameHistoryUI.js"></script>
    <script src="js/ui/actionCorrectionUI.js"></script>
    <script src="js/ui/helpUI.js"></script>
    <script src="js/ui/ui.js"></script>

    <!-- App -->
    <script src="js/app.js"></script>

    <!-- Initialize Lucide Icons -->
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
